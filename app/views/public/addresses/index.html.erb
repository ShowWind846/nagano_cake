<main>
  <div class="address-index">
    <span class="page-title">　配送先登録 / 一覧　</span>
    <div class="contents">
      <!-----------------アドレス登録フォーム-------------------->
      <table class="address-form">
        <%= form_with model: @address, url: {controller: 'addresses', action: 'create'}, local: true do |f| %>
        <tbody>
          <tr>
            <td width="200px">郵便番号(ハイフンなし)</td>
            <td width="450px"><%= f.text_field :postal_code %></td>
            <td width="150px"></td>
          </tr>
          <tr>
            <td>住所</td>
            <td><%= f.text_field :user_address,size: 52 %></td>
            <td></td>
          </tr>
          <tr>
            <td>宛名</td>
            <td><%= f.text_field :name %></td>
            <%= f.hidden_field :user_id, value: current_user.id %>
            <td><%= f.submit "　　新規登録　　",class: "btn btn-sm btn-success" %></td>
          </tr>
        </tbody>
        <% end %>
      </table>
    </div>
    <div class="address-table">
      <table>
        <thead bgcolor="#DDDDDD">
          <th width="100">郵便番号</th>
          <th width="400">住所</th>
          <th width="100">宛名</th>
          <th width="200"></th>
        </thead>
        <tbody>
          <% @addresses.each do |address| %>
          <tr>
            <th><%= address.postal_code %></th>
            <th><%= address.user_address %></th>
            <th><%= address.name %></th>
            <th><span>
              <%= link_to " 編集する ",edit_public_address_path(address.id),class: "btn btn-success btn-sm" %>
              <%= link_to " 削除する ",public_address_path(address.id),method: :delete,class: "btn btn-danger btn-sm" %>
            </span></th>
          </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</main>